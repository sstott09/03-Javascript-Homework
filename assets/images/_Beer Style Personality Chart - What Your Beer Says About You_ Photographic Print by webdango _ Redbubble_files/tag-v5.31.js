if(window.$smcT5){if("undefined"!==typeof console&&"function"===typeof console.warn)try{console.warn("Cannot load tag twice")}catch(n){}}else window.$smcT5=function(n,w,z){if("https:"!==n.location.protocol&&"http:"!==n.location.protocol||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n.location.hostname)||"localhost"===n.location.hostname)return!1;var b={},H={},F=n.$smctResources,
v={leftPage:!1,leftTab:!1,overlayId:0,overlaysCC:null,notification:null,b64:null,urls:{overlaysLoad:null,overlaysEngage:null},urlID:null,goalMatch:!1,ajaxDOMReplaceCheck:!1,dynamic:{},refreshDate:!1,serverTimestamp:null},K={},E=null,q={holding:[],plugin:{},isUse:!1,isReady:!1},y=!1,p={isDebug:function(){return!1},logger:function(){return!1},updateByID:function(){return!1},passFail:function(){return!1},modal:function(){return!1},timeOnPage:function(){return!1},autoInsert:function(){return!1},notifications:function(){return!1},
saleTrack:function(){return!1},smarterCodesSaleTrack:function(){return!1},timedCheck:function(){return!1},ipb:function(){return!1}},A=function(){if(y&&"undefined"!==typeof console&&"function"===typeof console.log){var b=Error().stack.split(/\n/);0===b[0].indexOf("Error")&&(b=b.slice(1));b=[].slice.apply(arguments).concat([b[1].trim()]);try{console.log.apply(console,b)}catch(f){}}},G=function(){if(y&&"undefined"!==typeof console&&"function"===typeof console.warn)try{console.warn.apply(console,arguments)}catch(k){}},
aa=function(){if(y&&"undefined"!==typeof console&&"function"===typeof console.error)try{console.error.apply(console,arguments)}catch(k){}},r=function(){var k=function(e){e+="=";for(var l=w.cookie.split(";"),D=0;D<l.length;D++){for(var k=l[D];" "===k.charAt(0);)k=k.substring(1,k.length);if(0===k.indexOf(e))return e=k.substring(e.length,k.length),1==b.config.encodeCookies&&(e=decodeURIComponent(e)),e.replace(/SMC_ASCII_PREFIX:/g,"")}return null},f=function(e,l,f){var D=l;"undefined"===typeof n.THEHUT&&
1!=b.config.FirstCharAsciiFix||"string"!==typeof l||!1!==/^[ -~]+$/.test(l.substr(0,1))||(l="SMC_ASCII_PREFIX:"+l);1==b.config.encodeCookies&&(l=encodeURIComponent(l));if(f){var m=new Date;m.setTime(m.getTime()+6E4*f);f="; expires="+m.toGMTString()}else f="";m=location.host;if(1===m.split(".").length||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(m))w.cookie=e+"="+l+f+";path=/";
else{var r=m.split(".");m="."+r.slice(-2).join(".");w.cookie=e+"="+l+f+";path=/; domain="+m;if(null===k(e)||k(e)!=D)m="."+r.slice(-3).join("."),w.cookie=e+"="+l+f+";path=/; domain="+m}},l=function(b){return null===k(b)?!1:!0},m=function(){return{get:function(){var b=parseInt(k("smc_source_ref"),10);return isNaN(b)?0:b},set:function(b,e){b=parseInt(b,10);b=isNaN(b)?0:b;f("smc_source_ref",b,1440*e)}}}(),r=function(){var b,m=function(b){return[{id:b,loaded:null,open:null,eng:null,closed:null}]},n=function(){b=
l("smct_last_ov")?JSON.parse(k("smct_last_ov")):m(null);"string"===typeof b&&"[{"===b.substring(0,2)&&(b=JSON.parse(b));var f=function(b){var l=e.DateNow()/1E3;return null!==b?parseFloat((l-b/1E3).toFixed(2)):b},n;for(n in b)b.hasOwnProperty(n)&&(b[n].loaded=f(b[n].loaded),b[n].open=f(b[n].open),b[n].eng=f(b[n].eng),b[n].closed=f(b[n].closed));return b};return{set:function(n,r){l("smct_last_ov")?(b=JSON.parse(k("smct_last_ov")),"string"===typeof b&&"[{"===b.substring(0,2)&&(b=JSON.parse(b)),b[0].id!==
n&&b.unshift(m(n)[0]),b=b.slice(0,3)):b=m(n);r!==z&&(b[0][r]=e.DateNow());f("smct_last_ov",JSON.stringify(b),43200)},get:n,secsSince:function(b){var e=n(),l;for(l in e)if(e.hasOwnProperty(l)&&null!==e[l][b])return Math.round(e[l][b]);return null}}}();return{create:f,read:k,del:function(b){f(b,"",-1)},exists:l,ref:m,lastOV:r,enabled:function(){var b=navigator.cookieEnabled;b||(w.cookie="smc_testcookie",b=-1!==w.cookie.indexOf("smc_testcookie"));return b}}}(),x=function(){var b={},f=!1;n.addEventListener("message",
function(e){if("undefined"!==typeof e.data&&"callback"===e.data.action){var l=b[e.data.id],f={};if(l&&"[object Function]"===f.toString.call(l))b[e.data.id](JSON.parse(e.data.data))}});return{lsInit:function(b){var e=F.getURL("ls_endpoint"),l=w.createElement("iframe");l.setAttribute("src",e);l.setAttribute("id","smc_lse_iframe");l.setAttribute("name","smc_lse_iframe");l.setAttribute("style","visibility:hidden;width:0;height:0;position:fixed;bottom:-10px;right:-10px;");l.setAttribute("src",e);w.getElementsByTagName("body")[0].appendChild(l);
l.onload=function(){b()};f=!0},isLoaded:function(){return f},check:function(){try{return localStorage.setItem("smc_test_ls","smc_test_ls"),localStorage.removeItem("smc_test_ls"),!0}catch(l){return!1}},set:function(b,e){var l={action:"set",name:b,string:JSON.stringify(e)};n.frames.smc_lse_iframe.postMessage(l,"*")},get:function(l,f){var k=e.DateNow();b[k]=f;n.frames.smc_lse_iframe.postMessage({action:"get",name:l,id:k},"*");for(var m in b)b.hasOwnProperty(m)&&5E3<e.DateNow()-m&&delete b[m]},del:function(b){n.frames.smc_lse_iframe.postMessage({action:"remove",
name:b},"*")}}}(),e=function(){var k=function(){var a=Date.now(),d=(new Date).getTime();return"number"===typeof a&&10>Math.abs(d-a)?Date.now:function(){return(new Date).getTime()}}();n.onblur=function(){v.leftTab=!0};n.onfocus=function(){v.leftTab=!1;v.leftPage||(v.leftPage=!1)};w.addEventListener("mouseout",function(a){a=a||n.event;a=a.relatedTarget||a.toElement;a&&"HTML"!=a.nodeName||(v.leftPage=!0)});w.addEventListener("mousemove",function(a){v.leftPage&&(v.leftPage=!1,v.leftTab=!1)},!0);var f=
function(){var a=function(a){r.exists("smct_session")||r.create("smct_session",JSON.stringify({s:k(),l:k(),lt:k(),t:0,p:0}),0);var c=JSON.parse(r.read("smct_session"));return a===z?c:"lt"===a?Math.round((c.l-c.lt)/1E3):c[a]};return{get:a,init:function(){setInterval(function(){var d=a();d.l=k();v.leftTab||(d.t=a("t")+1,d.lt=e.DateNow());v.leftPage||(d.p=a("p")+1);r.create("smct_session",JSON.stringify(d),0)},1E3)}}}(),l=function(a){return b!==z&&b.config!==z&&1!==b.config.caseSensitive?a.toLowerCase():
a},m=function(a){var d=n.location.href;d=!1!==a?l(d):d;return b!==z&&b.config!==z&&1===b.config.ignoreHash?d.split("#")[0]:d},p=function(a,d){var c=D(a)[0];return c.classList?c.classList.contains(d):!!c.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))},D=function(a){if(a===z)return null;if(-1===a.indexOf(":eq("))return w.querySelectorAll(a);for(var d=[];-1!==a.indexOf(":eq");){var c=a;if(-1!==c.indexOf(":eq(")){a=c.indexOf(":eq(");var h=c.substring(0,a),g=c.substring(a+4,c.indexOf(")",a));a=c.substring(c.indexOf(")",
a)+1,c.length);">"===h.charAt(0)&&(h=h.substring(1,h.length));">"===a.charAt(0)&&(a=a.substring(1,a.length));d.push({selector:h,index:g})}}for(var b;0<d.length;)c=d.shift(),b=(b||w).querySelectorAll(c.selector)[c.index];return 0<a.trim().length?(b||w).querySelectorAll(a):[b]},S=function(a){if("number"==typeof a||"boolean"==typeof a)return!1;if("undefined"==typeof a||null===a)return!0;if("undefined"!=typeof a.length)return 0==a.length;var d=0,c;for(c in a)a.hasOwnProperty(c)&&d++;return 0==d},P=F.tryer,
O=function(a,d){var c=[],h;for(h in a)if(a.hasOwnProperty(h)){var g=d?d+"["+h+"]":h,b=a[h];c.push(null!==b&&"object"===typeof b?O(b,g):encodeURIComponent(g)+"="+encodeURIComponent(b))}return c.join("&")},Q=function(a){if("undefined"!==typeof a&&0<a.length){var d=function(a){return a.replace(/[,.]/g,function(a){return","===a?".":","})},c=null;a=a.match(/(([0-9]{1,}[\.,][0-9]{1,2})*[0-9]{1,}([\.,][0-9]{1,2}){0,2})/g);if(null!==a){a=a[0].trim();if(parseFloat(a).toString()===a)return parseFloat(a);var h=
a.substr(a.length-2).substr(0,1),g=a.substr(a.length-3).substr(0,1);h="."===h||"."===g?".":","===h||","===g?",":!1;g=a.substr(a.length-4).substr(0,1);g=g.match(/[\.,]/)?g:!1;"."===h&&1===(a.match(/\./g)||[]).length?c=a.replace(/[,]/g,""):","===h&&1===(a.match(/,/g)||[]).length?c=d(a).replace(/[,]/g,""):!1===h&&g&&-1!==a.indexOf(".")?c=d(a).replace(/[,]/g,""):!1===h&&g?c=d(a).replace(/[\.]/g,""):!1===h&&-1!==a.indexOf(".")?c=a:!1===h&&-1!==a.indexOf(",")?c=d(a).replace(/[,]/g,"."):!1===g&&0===(a.match(/[,\.]/g)||
[]).length&&(c=a);return null===c?null:parseFloat(c)}}return null},J=function(a){if("spv"===a||"tpv"===a||"sesn"===a){var d=parseInt(r.read("smc_"+a),10);return isNaN(d)?"sesn"===a?1:0:d}if("ref"===a)return r.ref.get();if("device"===a||"dv"===a)return b.device;if("id"===a)return b.id;if("name"===a)return b.name;if("loc"===a)return b.loc;if("uid"===a)return W.get();if("version"===a)return b.version},R={x:function(){if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;for(var a="MSXML2.XmlHttp.6.0 MSXML2.XmlHttp.5.0 MSXML2.XmlHttp.4.0 MSXML2.XmlHttp.3.0 MSXML2.XmlHttp.2.0 Microsoft.XmlHttp".split(" "),
d,c=0;c<a.length;c++)try{d=new ActiveXObject(a[c]);break}catch(h){}return d},send:function(a,d,c,h,g){g===z&&(g=!0);var b=R.x();b.open(c,a,g);b.onreadystatechange=function(){4==b.readyState&&d(b.responseText)};"POST"==c&&b.setRequestHeader("Content-type","application/x-www-form-urlencoded");b.send(h)},get:function(a,d,c,h){var b=[],C;for(C in d)d.hasOwnProperty(C)&&b.push(encodeURIComponent(C)+"="+encodeURIComponent(d[C]));R.send(a+(b.length?"?"+b.join("&"):""),c,"GET",null,h)},post:function(a,d,
c,h){var b=[],C;for(C in d)d.hasOwnProperty(C)&&b.push(encodeURIComponent(C)+"="+encodeURIComponent(d[C]));R.send(a,c,"POST",b.join("&"),h)}},E=function(){var a=w.referrer;a=a.slice(0,a.indexOf("/",10));var d=n.location.origin;""!==a&&a!==d&&r.create("smc_r",btoa(encodeURIComponent(a)),10080);a=null;try{null!==r.read("smc_r")&&(a=decodeURIComponent(atob(r.read("smc_r"))))}catch(c){a=null,G("ref Domain Error from cookie")}return a},x=function(){var a="$ \u20ac \u00a3 \u00a5 \u20a1 \u20aa \u20b9 \u20a9 \u20a6 \u20b1 z\u0142 \u0142 \u20b2 \u0e3f \u20b4 \u20ab AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYN BZD CAD CDF CHF CLF CLP CNH CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LYD MAD MDL MGA MKD MMK MNT MOP MRO MRU MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD SSP STD STN SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VES VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMW ZWL".split(" "),
d=function(c,h){var d=[];if(c&&"string"===typeof c)for(var b in a)if(a.hasOwnProperty(b)){var e=a[b];if(-1<c.indexOf(e))if(!0===h)d.push(e);else return e}return 0===d.length?!1:1===d.length?d[0]:d[d.length-1]};return{currencies:a,currencySearch:d,searcher:function(a){var c=a.match(new RegExp(/[0-9,.]+/ig)),b=!1,C=a?a.replace(/\n/g,"").trim():"";c&&(b=1===c.length?c[0]:c[c.length-1]);c=d(a,c&&1<c.length?!0:!1);if(b&&c){C=a.indexOf(b);var e=a.indexOf(c);C=C>e?c+" "+b:b+" "+c;b=C.replace(/\s+/g,"");
-1<a.replace(/\s+/g," ").indexOf(C)||-1<a.indexOf(b)&&(C=b)}else b&&(C=b);return C},convertForMaths:function(a){a=a.match(new RegExp(/[0-9,.]+/ig));var c=0;a&&(c=1===a.length?a[0]:a[a.length-1],","===c.slice(-3).substr(0,1)&&(c=c.replace(/[,.]/g,function(a){return","===a?".":","})),c=c.replace(/,/g,""),c=parseFloat(c));return isNaN(c)?0:c}}}(),H=function(){var a=function(a,c){var d=[],b=1,C=function(){for(i=0;i<arguments.length;i++)d.push(arguments[i])},e=function(a,d){if(100<b||"object"!==typeof a||
null===a)return!1;for(var h=Object.keys(a),g=0;g<h.length&&(c===h[g]&&d.push(a[h[g]]),"number"!==typeof a[h[g]]);g++)"object"===typeof a[h[g]]&&(b++,e(a[h[g]],d));return d};a.forEach(function(a){var c=[];(c=e(a,c))&&C.apply(null,c)});return d};return{scan:a,scanResult:function(d,c){var h=a(d,c);if(1>h.length)return G("zero array"),0;1<h.length&&G("More than 1 results found");return h[0]},filterKey:function(a,c){var d=a.filter(function(a){return a.hasOwnProperty(c)});1!==d.length&&G("More than 1 result found");
return 1===d.length?d[0]:d}}}();return{queryString:function(a,d){var c=!1!==d?m():m(!1);a=a.replace(/[\[\]]/g,"\\$&");return(c=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(c))?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null},hashContains:function(a){return-1!==n.location.hash.indexOf(a)?1:0},elmLen:function(a){return S(a)?0:D(a).length},hasClass:p,addClass:function(a,d){d=d.trim();var c="string"===typeof a?D(a):a;if(c!==z)for(var b=0;b<c.length;b++)if(c[b].classList)if(-1<d.indexOf(" "))for(var g=
d.replace(/\s\s+/g," ").split(" "),e=0;e<g.length;e++)c[b].classList.add(g[e].trim());else c[b].classList.add(d);else p(c[b],d)||(c[b].className+=""===c[b].className?d:" "+d)},removeClass:function(a,d){d=d.trim();var c="string"===typeof a?D(a):a;if(c!==z)for(var b=0;b<c.length;b++)if(c[b].classList)if(-1<d.indexOf(" "))for(var g=d.replace(/\s\s+/g," ").split(" "),e=0;e<g.length;e++)c[b].classList.remove(g[e].trim());else c[b].classList.remove(d);else p(c[b],d)&&(c[b].className=c[b].className.replace(new RegExp("(\\s|^)"+
d+"(\\s|$)")," "))},empty:S,tryer:P,serialize:O,functionizer:function(a,d){for(var c in d)if(d.hasOwnProperty(c)){var b=d[c].type,g=d[c].vals;g[0]&&g[1]&&"replace"===b&&a&&(a=a.replace(new RegExp(g[0],"g"),g[1]===z?"":g[1]));(g[0]&&"after"===b||"before"===b)&&a&&(a=a.split(g[0]),a=a["after"===b?1:0]);g[0]&&g[1]&&"between"===b&&a&&(a=a.split(g[0]).pop().split(g[1]).shift());"trim"===b&&a&&(a=a.trim());"digits"===b&&a&&(a=a.replace(/[^0-9.]+/g,""));"int"===b&&a&&(a=parseInt(a,10));"float"===b&&a&&(a=
parseFloat(a));"special"===b&&a&&(a=Q(a));g[0]&&g[1]&&"split"===b&&a&&(a=a.split(g[0])[parseInt(g[1],10)]);a="int"!==b&&"float"!==b||!isNaN(a)?a:0}return a},htmlTextSearch:function(a,b){var c=w.body.childNodes;b=l(b);for(var d=b.split(","),g="SCRIPT INPUT TEXTAREA #comment #text SMCCDB IFRAME".split(" "),e=0;e<c.length;e++){var t=c[e];try{if(t.nodeName!==z&&-1===g.indexOf(t.nodeName)&&-1===t.nodeName.indexOf("SMCT-")&&-1===t.nodeName.indexOf("SMC-")&&t.id&&-1===t.id.toString().indexOf("smc-")){var f=
t.innerText.replace(/\s/g," ");f=l(f);for(t=0;t<=d.length-1;t++)if(-1!==f.indexOf(d[t]))return!0}}catch(ia){G(ia)}}return!1},urlTextSearch:function(a,b){var c=m();b=l(b);for(var d=b.split(","),g=0;g<=d.length-1;g++)if(-1!==c.indexOf(d[g]))return!0;return!1},incrementPageViews:function(){var a=parseInt(r.read("smc_spv"),10),b=parseInt(r.read("smc_tpv"),10);a=isNaN(a)?0:a;b=isNaN(b)?0:b;a++;b++;r.create("smc_spv",a,0);r.create("smc_tpv",b,5256E3);1===a&&(a=parseInt(r.read("smc_sesn"),10),a=isNaN(a)?
0:a,a++,r.create("smc_sesn",a,5256E3))},pixelTracker:function(a,d,c){if(1==b.config.pxTrackOff)return!1;var h=r.ref.get(),g=J("spv"),e=J("tpv"),l=J("dv");if(q&&q.isUse){var f={tid:b.id,spv:g,tpv:e,ipb:!!b.ipb,ref:h,aid:d,uid:a,did:null===l.id?0:l.id,cid:c,ody:JSON.stringify(v.dynamic),sid:J("uid"),ver:J("version"),ip:b.ip,lng:navigator.language,t:b.t,hrf:n.location.href,drf:w.referrer,odc:JSON.stringify([])};A("event",f);f={type:"overlay",payload:f};"function"===typeof q.plugin.event?q.plugin.event(f):
(Array.isArray(q.holding)||(q.holding=[]),q.holding.push(f))}f=F.getURL("pxt_domain");f&&""!==f.trim()||(G("Has to use Fallback Pixel Tracker URL"),f="https://smct.co/");var m=""+b.id+"-"+g+"-"+e+"-"+b.ipb+"-"+h+"-"+d+"-"+a+"-"+(null===l.id?0:l.id)+"-"+c+"/px2.png?ts="+k();A("PX NEW: ",f+m);(new Image).src=f+m;$smcT5&&$smcT5.CustomScripts&&"function"===typeof $smcT5.CustomScripts.PXExtend&&$smcT5.CustomScripts.PXExtend(b.id,g,e,b.ipb,h,d,a,l,c,v.dynamic,J("loc"),J("uid"),J("version"),b.ip,navigator.language,
b.t,n.location.href,w.referrer,E())},searchDataLayer:function(a,b){try{if(n[a]!==z){var c=n[a],d;for(d in c)if(c.hasOwnProperty(d)){if(d==b)return c[d];if(-1!==b.indexOf(">")){var g=b.split(">");if(2==g.length&&c[d][g[0].trim()]!==z){var e=c[d][g[0].trim()][g[1].trim()];if("object"!==typeof e)return e}else if(3==g.length&&c[d][g[0].trim()]!==z&&c[d][g[0].trim()][g[1].trim()]!==z){if(e=c[d][g[0].trim()][g[1].trim()][g[2].trim()],"object"!==typeof e)return e}else if(4==g.length&&c[d][g[0].trim()]!==
z&&c[d][g[0].trim()][g[1].trim()]!==z&&c[d][g[0].trim()][g[1].trim()][g[2].trim()]!==z&&(e=c[d][g[0].trim()][g[1].trim()][g[2].trim()][g[3].trim()],"object"!==typeof e))return e}else for(var l in c[d])if(c[d].hasOwnProperty(l)){var f=c[d][l];if("object"===typeof f)for(var m in f)if(f.hasOwnProperty(m)){var k=c[d][l][m];if("object"===typeof k)for(var r in k)if(k.hasOwnProperty(r)){var p=c[d][l][m][r];if(r==b&&"object"!==typeof p)return p}if(m==b&&"object"!==typeof k)return k}if(l==b&&"object"!==typeof f)return f}}}return!1}catch(ca){return!1}},
userSessionTimes:f,getURL:m,setCase:l,get:J,DateNow:k,getWidth:function(){return self.innerWidth?self.innerWidth:w.documentElement&&w.documentElement.clientWidth?w.documentElement.clientWidth:w.body?w.body.clientWidth:void 0},getHeight:function(){return self.innerHeight?self.innerHeight:w.documentElement&&w.documentElement.clientHeight?w.documentElement.clientHeight:w.body?w.body.clientHeight:void 0},ajax:R,getElms:D,referrerDomain:E,dynKeyReplace:function(a,b){var c=a;try{for(var d in K)if(K.hasOwnProperty(d)){var g=
K[d];g===z&&(g="undefined");b&&(g=encodeURIComponent(g));c=c.replace(new RegExp("{"+d+"}","g"),g);var e=new RegExp("{"+d.toLowerCase()+"}","g");c=c.replace(e,g)}}catch(t){y&&aa("dynKeyReplace Error: \n",t)}return c},validateEmail:function(a){return/^([\w-\+]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a)},extractHostname:function(a){a=-1<a.indexOf("://")?a.split("/")[2]:a.split("/")[0];a=a.split(":")[0];return a=a.split("?")[0]},AddCss:function(a,b){var c=w.createElement("style");
c.setAttribute("type","text/css");c.setAttribute("id",b);c.appendChild(w.createTextNode(a));w.getElementsByTagName("head")[0].appendChild(c)},urlChecker:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].toString().trim();d=e.setCase(d);if('"'==d.substr(0,1)&&'"'==d.slice(-1)){if(d=d.substring(1,d.length-1).trim(),b===d.replace("http://","https://")||b===d.replace("https://","http://"))return!0}else if("{"===d.substr(0,1)&&"}"===d.slice(-1)){if(d=d.substring(1,d.length-1).trim(),e.setCase(n.location.pathname)===
d)return!0}else if(-1!==b.indexOf(d.replace("http://","https://"))||-1!==b.indexOf(d.replace("https://","http://")))return!0}return!1},DBC:A,DBW:G,DBE:aa,priceFinder:x,objectScanner:H}}(),W=function(){var b=function(){var b=e.DateNow().toString();return parseInt(b+Math.floor(900*Math.random()+100).toString(),10)},f=function(l){var f=parseInt(r.read("smc_uid"),10);!isNaN(f)&&0x3e871b540c06f<f&&9000000000000111>f||(f=b(),r.create("smc_uid",f,5256E3));y&&l&&G(atob("VXNlcklEIGlzIHVzaW5nIDNyZCBwYXJ0eSBsb2NhbCBzdG9yYWdl"));
var k=parseInt(e.queryString("smc_uid"),10);0x3e871b540c06f<k&&9000000000000111>k&&!isNaN(k,10)&&k!==f?(r.create("smc_uid",k,5256E3),l&&!0===x.check()&&x.lsInit(function(){x.set("smc_uid",k)})):l&&!0===x.check()&&x.lsInit(function(){x.get("smc_uid",function(b){(b=parseInt(b,10))&&!isNaN(b)&&0x3e871b540c06f<b&&9000000000000111>b?b!==f&&r.create("smc_uid",b,5256E3):x.set("smc_uid",f)})});return f};return{get:function(){var b=parseInt(r.read("smc_uid"),10);return b=!isNaN(b)&&0x3e871b540c06f<b&&9000000000000111>
b?b:f()},set:f}}(),da=!1,ea=!1,ja=function(){var k=function(a){if(""===a)return!1;var b=e.getElms(a);if(0===b.length)return null;if(1<b.length)return b.length;var c=b[0].getBoundingClientRect();return{selector:a,element:b[0],length:b.length,tag:b[0].tagName,type:b[0].type,pos:{t:c.top,r:c.right,b:c.bottom,l:c.left}}},f=function(a){var b=p.autoInsert,c={url:0,cookiePass:0,cookieInfo:0,vc:0,inputInfo:0,holderInfo:0,animateInfo:0,animateClass:0,timeUp:0,displayFor:0};b(c);var h=0;if(""!==a.url.trim()){var g=
a.url.split(",");for(m in g)g.hasOwnProperty(m)&&-1!==e.getURL().indexOf(e.setCase(g[m].trim()))&&(h=1)}if(1===h){c.url=1;b(c);var f=r.read("smc_vc");if(null!==f)try{f=JSON.parse(f);c.cookieInfo=f;try{var l=atob(f.v);c.vc=l;c.cookiePass=1}catch(ca){c.vc="VOUCHER INCORRECTLY ENCODED"}}catch(ca){c.cookieInfo="NOT OBJECT"}if(1===c.cookiePass){var m=f.d;g=parseFloat(f.e);var n=f.u,w=e.DateNow();h=parseInt(a.secsDisp,10);h=isNaN(h)?600:h;g=Math.round(86400*g);m=Math.round((w-m)/1E3);var X=null===n?!1:
Math.round((w-n)/1E3);c.displayFor=h;c.cookieExpires=g;c.cookieLive=m;c.cookieUsed=X;c.timeUp=h-X;b(c);if(!1!==X&&X>=h)return!1;if(m<g){clearInterval(v);var v=setInterval(function(){var d=k(a.input);c.inputInfo=d;b(c);if(null!==d&&1===d.length){clearInterval(v);var g=k(a.holder),h=k(""===a.elmAnimate?a.input:a.elmAnimate),C=parseInt(a.timeout,10);C=isNaN(C)?100:C;c.holderInfo=g;c.animateInfo=h;""!==a.additional&&($smcT5.CustomScripts&&"function"===typeof $smcT5.CustomScripts.AECode?$smcT5.CustomScripts.AECode():
F.runCode("ae_code",y));b(c);clearTimeout(void 0);setTimeout(function(){null!==g&&1===g.length&&(e.AddCss(".smct-force-display{display:"+a.holderDisplay+" !important;visibility:visible !important;opacity:1 !important;}","smct-AutoInsert-forceDisplay"),g.element.className+=" smct-force-display");null!==h&&1===h.length&&"none"!==a.elmAnimateClass&&(c.animateClass=a.elmAnimateClass,setTimeout(function(){h.element.className+=" smct-animated smct-"+a.elmAnimateClass},100));d.element.value=l;null===n&&
(f.u=w,r.create("smc_vc",JSON.stringify(f),525600));b(c)},C)}},100)}}}},l=!1,m=!1,q=!1,D=function(a){if("undefined"===typeof Notification)A("Browser does not support Notifications");else if(""===a.serviceWorker.trim())G("Notifications - Service Worker not set.");else{A("1. Running Offline Notifications");var d=function(){A("3. sessionCheck() ");null==v.notification&&"function"==typeof n.smctAskNotification&&n.smctAskNotification(a,b.config.webpush_key);setTimeout(function(){var a=v.notification;if(a){var b=
0;v.goalMatch&&(b=1);var c=0,d=$smcT5.tagHelpers.get("dv");d&&d.id&&(c=d.id);a="sid="+W.get()+"&tid="+e.get("id")+"&a="+a.auth+"&p="+a.public_key+"&e="+a.endpoint+"&d="+JSON.stringify(v.dynamic)+"&did="+c+"&z="+b;b=new XMLHttpRequest;b.open("POST",$smctResources.getURL("notification_checker"),!0);b.setRequestHeader("Content-type","application/x-www-form-urlencoded");b.send(a)}},1E3)};!v.goalMatch||"granted"!=Notification.permission||q||m||(d(),q=!0);if(m)return!1;var c=function(){"granted"==Notification.permission&&
(clearInterval(l),d(),setInterval(function(){"granted"==Notification.permission&&d()},5E4))};m=!0;Notification&&"default"==Notification.permission&&(l=setInterval(function(){c()},1E3));var h=$smctResources.getURL("notification_app");h!==z&&null!==h&&E.anyScriptLoader(h,function(){c();A("2. checkUserOnline() ")})}},S=!1,P=function(a){var d=p.saleTrack,c={cp:!1,ov:null,oid:null,cur:null,insights:null,px1Fired:null};n.$smcTrack?da===JSON.stringify(n.$smcTrack)?G("window.$smcTrack has already run",n.$smcTrack):
(da=JSON.stringify(n.$smcTrack),c.cp=!0,c.ov=$smcTrack.value,c.oc=$smcTrack.count,c.oid=$smcTrack.ref,c.cur=$smcTrack.currency,c.vc=$smcTrack.voucher,c.type=$smcTrack.type,a={},y&&(a.eh=1)):(c.cp=K[a.confirmPage],c.ov="ignore"===a.orderValue?"ignored":K[a.orderValue],c.oc="ignore"===a.orderCount?"ignored":K[a.orderCount],c.oid="ignore"===a.orderID?"ignored":K[a.orderID],c.cur="ignore"===a.currency?"ignored":K[a.currency],c.vc="ignore"===a.voucher?"ignored":K[a.voucher],c.type=a.type);d(c);if(c.cp&&
(d(c),null!==c.ov&&c.ov!==z)){var h={type:"track",url:n.location.href,refDom:e.referrerDomain(),device:b.device,spv:e.get("spv"),tpv:e.get("tpv"),sesn:e.get("sesn"),tid:b.id,uid:e.get("uid"),ov:c.ov,vc:c.vc,oc:c.oc,oid:c.oid,cur:c.cur,tType:c.type,hist:r.lastOV.get()},g=!1;a&&a.px1&&0<a.px1.trim().length&&(g=e.dynKeyReplace(a.px1.trim(),!0),"ignore"!==a.px1Load&&("post"===a.px1Load?e.ajax.post(g,{},function(a){c.px1Fired='Pixel Fired as POST: <br>"'+g+'"';d(c)}):((new Image).src=g,c.px1Fired='Pixel Fired as IMAGE: <br> "'+
g+'"',d(c))));y&&a&&a.eh&&1===a.eh&&(h.html=w.documentElement.innerHTML);g&&(h.px1=g);e.ajax.post(F.getURL("insights_url"),{data:JSON.stringify(h)},function(a){A("SALES RECEIVE: ",JSON.parse(a));y&&(c.insights="Processed in "+JSON.parse(a).t+"s",d(c))})}},O=function(a){var d=p.smarterCodesSaleTrack,c={cp:!1,ov:null,oid:null,cur:null,insights:null,px1Fired:null};n.$smcTrack?ea===JSON.stringify(n.$smcTrack)?G("window.$smcTrack has already run",n.$smcTrack):(ea=JSON.stringify(n.$smcTrack),c.cp=!0,c.ov=
$smcTrack.value,c.oc=$smcTrack.count,c.oid=$smcTrack.ref,c.cur=$smcTrack.currency,c.vc=$smcTrack.voucher,c.type=$smcTrack.type,a={},y&&(a.eh=1)):(c.cp=K[a.confirmPage],c.ov="ignore"===a.orderValue?"ignored":K[a.orderValue],c.oc="ignore"===a.orderCount?"ignored":K[a.orderCount],c.oid="ignore"===a.orderID?"ignored":K[a.orderID],c.cur="ignore"===a.currency?"ignored":K[a.currency],c.vc="ignore"===a.voucher?"ignored":K[a.voucher],c.type=a.type);d(c);if(c.cp&&b.plugins.smarterCodes!==z&&r.exists("smc_vcc_history")&&
(d(c),null!==c.ov&&c.ov!==z)){var h={type:"sc_track",url:n.location.href,device:b.device,spv:e.get("spv"),tpv:e.get("tpv"),sesn:e.get("sesn"),tid:b.id,uid:e.get("uid"),ov:c.ov,vc:c.vc,oc:c.oc,oid:c.oid,cur:c.cur},g=r.read("smc_vcc_sale_count");(g=parseInt(g))?g++:g=1;h.vccSalesCount=g;r.create("smc_vcc_sale_count",g,1051200);y&&a&&a.eh&&1===a.eh&&(h.html=w.documentElement.innerHTML);e.ajax.post(F.getURL("insights_url"),{data:JSON.stringify(h)},function(a){A("SMARTERCODES SALES RECEIVE: ",JSON.parse(a));
y&&(c.insights="Processed in "+JSON.parse(a).t+"s",d(c))})}},Q=null,J=0,R=function(a){var b=n.location.href,c=null;-1!==b.indexOf("#")&&(c=b.split("#")[1],b=b.split("#")[0]);if(-1!==b.indexOf("?")&&0===a.qsRecord)b=b.split("?")[0];else if(0===a.qsFull||500<b.length){var h=b.split("?")[1];if(-1!==b.indexOf("&")){h=h.split("&");for(var g in h)if(h.hasOwnProperty(g)){var f=h[g];if(-1!==f.indexOf("=")){var l=f.split("=")[0];f=f.split("=")[1];30<f.length&&(b=b.replace(l+"="+f,l+"=truncated"))}}}}1===a.saveHash&&
c&&(b=b+"#"+c);if(b===Q)return!1;a=e.DateNow();if(0<J&&2>(a-J)/1E3)return!1;Q=b;J=e.DateNow();(a=F.getURL("url_track"))&&""!==a?e.ajax.post(a,{tid:e.get("id"),u:b},function(a){a=JSON.parse(a);1===a.r&&(v.urlID=a.url_id,A("UT: ","$outputs.url_id: ",a.url_id))}):A("UT: ","Endpoint Missing")},H=function(a,d,c,h){var g={url:{originals:{}},http:{smc_full_referral_id:0}},f=!1,l={},k=b.sources;1===e.get("spv")&&1===h||!a||(g=a);if(1===c.urlSource&&k){h=n.location.search.substring(1).split("&");for(a=0;a<
h.length;a++){var m=h[a].split("=");k[m[0]]!==z&&m[1]!==z&&g.url.originals[k[m[0]]]!==m[1]&&(g.url.originals[k[m[0]]]=m[1],f=!0,A("TAG SOURCES -  Set Source Key ",k[m[0]],m[0],m[1]))}l.s=JSON.stringify(g.url.originals)}if(1===c.httpReferrer){var r=e.referrerDomain();c=w.referrer;a=w.domain;k=[];h=[];if(null!==r&&g.http[r]===z){var p=r.match(/^(?:.*:\/\/)?([^\/]*)/);m=!1;if(null!==p&&p[1]!==z){p=p[1].split(".").reverse();a=a.split(".").reverse();p.length>a.length?(k=a,h=p):(h=a,k=p);for(a=0;a<k.length&&
!(k[a]!=h[a]&&(m=!0),0<a&&3<k[a].length);a++);m&&(l.r=r,l.r2=c,f=!0,A("TAG SOURCES -  Set Referrer Key ",l))}m||(g.http[r]=0)}}l.t=e.get("id");l.l=n.location.href;a=F.getURL("smarter_codes_endpoint");f&&a&&""!==a.trim()&&e.ajax.post(a+"?handle=sources-store",l,function(a){a=JSON.parse(a);A("TAG SOURCES - Update Server: ",l,a);0<a.http_referrer_id&&(g.http[r]=a.http_referrer_id,g.http.smc_full_referral_id=a.http_referrer_full_id,g.http.smc_referral_id=a.http_referrer_id);a.sources!==z&&(g.url.ids=
a.sources,g.http.landing_page_id=a.landing_page_id);x.set(d,btoa(JSON.stringify(g)))});A("TAG SOURCES - ",g)},ba=0,U=function(a,b){ba++;var c="smct_sources_"+e.get("id").toString();x.get(c,function(d){var g=null;d&&(g=JSON.parse(atob(d)));b(g,c,a,ba)})};return{init:function(a){for(var b in a)if(a.hasOwnProperty(b))if("autoInsert"===b)f(a[b]);else if("tracking"!==b||n.$smcTrack)if("sc_tracking"!==b||n.$smcSCTrack)if("notifications"===b)D(a[b]);else if("confirmationPage"===b){var c=a[b];if(!S){var h=
!1;c.url!==z&&0<c.url.length?(h=e.getURL(),h=e.urlChecker(c.url,h)):c.dynamicKey!==z&&(h=v.dynamic[c.dynamicKey]);if(h){c=[];var g=(new Date).getTime();r.exists("smc_goal")&&(c=JSON.parse(r.read("smc_goal")),100<c.length&&c.pop());c.push(g);r.create("smc_goal",JSON.stringify(c),525600);v.goalMatch=h}S=v.goalMatch}}else"urlTracker"===b?R(a[b]):"sources"===b&&U(a[b],H);else O(a[b]);else P(a[b]);n.$smcTrack&&P();n.$smcSCTrack&&O()}}}(),ka=function(e,f){if(1==b.ipb)return G("Basket Backup will not run - IP is Blocked"),
p.updateByID("basket-backup",'<span class="smct-text-danger">IP is blocked -  Will not run.</span>'),!1;var l=F.getURL("basket_backup_endpoint");if(!l||""===l.trim())return A("Basket Backup - End point is missing!"),!1;$smcT5.outputs.basketBackup={endpoint:l,campaign_id:e.id};if(0==e.id)return A("Basket Backup - No Campaign chosen!"),!1;!1===f.getJqueryLoadStatus()&&!1===f.getBasketBackupLoadStatus()?f.loadJquery(b.config.jQueryForceLoad,function(){f.loadBasketBackup(e,function(){p.updateByID("bb-load",
"LOADED (JQ & Script)")})}):!1===f.getOverlayLoadStatus()&&f.loadBasketBackup(e,function(){p.updateByID("bb-load","LOADED (Just Script)")})},la=function(e,f){if(1==b.ipb)return G("Smarter Codes will not run - IP is Blocked"),p.updateByID("smarter-codes",'<span class="smct-text-danger">IP is blocked -  Will not run.</span>'),!1;if(0==e.id)return A("Smarter Codes - No Campaign chosen!"),!1;var l=F.getURL("smarter_codes_endpoint");if(!l||""===l.trim())return A("Smarter Codes - End point is missing!"),
!1;$smcT5.outputs.smarterCodes={endpoint:l,campaign_id:e.id};!1===f.getJqueryLoadStatus()&&!1===f.getSmarterCodesLoadStatus()?f.loadJquery(b.config.jQueryForceLoad,function(){f.loadSmarterCodes(e,function(){p.updateByID("sc-load","LOADED (JQ & Script)")})}):!1===f.getOverlayLoadStatus()&&f.loadSmarterCodes(e,function(){p.updateByID("sc-load","LOADED (Just Script)")})};v.launchSelector=function(){if(!(!0===y||"undefined"!==typeof $smcCDB&&$smcCDB.outputs&&!0===$smcCDB.outputs.valid))return G("Permission denied!"),
!1;var e=F.getURL("selector_tool_endpoint").trim();$smcT5.outputs.selectTool={endpoint:e};!1===E.getJqueryLoadStatus()&&!1===E.getSelectToolLoadStatus()?E.loadJquery(b.config.jQueryForceLoad,function(){E.loadSelectTool(null,function(){p.updateByID("select-tool-load","LOADED (JQ & Script)")})}):!1===E.getSelectToolLoadStatus()&&E.loadSelectTool(null,function(){p.updateByID("select-tool-load","LOADED (Just Script)")});return"Launching Selector Tool..."};var Y=function(){var b=0,e=0,l=function(){return{oid:b,
aid:e}};return{getCurrent:l,scanner:function(){var f=n.$smcO5;f&&f.vars&&(b=f.vars.oid,f.vars.closed?e=3:f.vars.engaged?e=2:f.vars.is_open&&(e=1));return l()}}}(),Z=!0,fa=function(){if(1===b.config.insights&&Z){var k=Y.getCurrent();Z=!1;setTimeout(function(){Z=!0},1E3);k={type:"insights",url:n.location.href,user_agent:navigator.userAgent,refDom:e.referrerDomain(),last_referer:w.referrer,device:b.device,location:b.loc,spv:e.get("spv"),tpv:e.get("tpv"),sesn:e.get("sesn"),page_width:e.getWidth(),page_height:e.getHeight(),
outputs:v,tid:b.id,oact:k,uid:e.get("uid"),hist:r.lastOV.get()};e.ajax.post(F.getURL("insights_url"),{data:JSON.stringify(k)},function(b){A("INSIGHTS RECEIVE: ",JSON.parse(b))})}},na=function(k){var f=r.ref.get(),l=null,m=!1,F=!1;y&&(p.updateByID("ref",f),p.updateByID("refMatch","<smct-code>"+(0===f?"N/A":b.config.refs[f]&&b.config.refs[f].u||"N/A")+"</smct-code>"));var D=function(a,b,c){var d=!1,g="(OFF so ByPass)";if(null===b)d=!1,g="value is NULL";else{var f=a.val1,l=a.val2,m=a.is1,k=a.is2;a=a.andOr;
if("exists"===c)return{result:b==f?!0:!1,expression:" EXISTS == "+(!0===f?"true":"false")};if("true"==m||"false"==m)return b=""===b||!1===b||0===b?"false":b,b=!0===b||1===b?"true":b,{result:b==m?!0:!1,expression:b+" == "+m};var n=function(a){isNaN(a)||isNaN(parseFloat(a))?"string"===typeof a&&(a='"'+e.setCase(a)+'"'):a=parseFloat(a);return a};c=function(a,b,c){var d=!1;a=n(a);c=n(c);">"===b?d=a>c:">="===b?d=a>=c:"=="===b?d=a==c:"!="===b?d=a!=c:"<="===b?d=a<=c:"<"===b&&(d=a<c);return d};a&&k&&l?(g=
b+" "+m+" "+f+" "+a+" "+b+" "+k+" "+l,"&&"===a?d=!0===c(b,m,f)&&!0===c(b,k,l)?!0:!1:"||"===a&&(d=!0===c(b,m,f)||!0===c(b,k,l)?!0:!1)):(g=b+" "+m+" "+f,d=!0===c(b,m,f)?!0:!1)}return{result:d,expression:g}},S=function(){var a=m=!1,d=!1,c=b.rulesList,h=0;if(y)var g={};var C=!0,t,O={};if(c)for(t in c)if(c.hasOwnProperty(t)){var q=c[t].filterGroup;q="undefined"===typeof q?"":q;O[q]=100}var J=e.get("uid")%100,P=e.get("spv"),Q=e.get("tpv");if(c&&("undefined"===typeof $smcO5||1!==$smcO5.vars.is_open)){if(1==
b.ipb&&null===e.queryString("smcdb")&&null===r.read("smcdb"))return p.ipb(),e.pixelTracker(6,9,0),!1;for(t in c)if(c.hasOwnProperty(t)){y&&(g[t]={data:[],pass:[]});var S=!0,E=c[t].timeStart,I=c[t].timeEnd;if(E||I){E=E.trim();I=I.trim();q=b.config.rulesUTC;var u=new Date,B=u.getTime(),L=(new Date(E.replace(/-/g,"/"))).getTime(),M=(new Date(I.replace(/-/g,"/"))).getTime();1==q&&(u=6E4*u.getTimezoneOffset(),B+=u);if(""!==E&&isNaN(L)||""!==I&&isNaN(M))S=!1;else if(B<L||B>M)S=!1;y&&g[t].data.push(p.timedCheck(S,
B,E,I,q))}E=!0;I=c[t].delay;"undefined"!==typeof I&&0<I&&(q=r.lastOV.secsSince("open"),null!==q&&q<I&&(E=!1),y&&g[t].data.push("Delay Since Opened: "+p.passFail(E)+"<smct-code>"+(null===q?"(none opened yet)":"<strong>"+q+"</strong> > "+I)+"</smct-code>"));B=c[t].filter;I=!0;0<B&&(q=c[t].filterGroup,q="undefined"===typeof q?"":q,L=O[q],M=100-L,J>=M&&J<B+M||(I=!1),O[q]=L-B,y&&g[t].data.push(""+B+"% "+q+" Filter: "+p.passFail(I)+" <smct-code>"+M+"% >= <strong>"+J+"%</strong> < "+(B+M)+"%</smct-code>"));
B=c[t].visitors;q=!0;"undefined"!==typeof B&&"all"!==B&&("new"===B&&P!==Q&&(q=!1),"existing"===B&&P===Q&&(q=!1),y&&g[t].data.push("Visitor Type: "+p.passFail(q)+" <smct-code>Expected: "+B+", Found: "+(P==Q?"new":"existing")+"</smct-code>"));L=c[t].notificationsAccepted;B=!0;if("undefined"!==typeof L&&"any"!==L&&"-2"!==L)if(n.Notification){var K=1;M=Notification.permission;"default"===M&&(M="not_set");"https:"!==w.location.protocol?(B=!1,K=0):B="granted"==L&&"granted"===M?!0:"denied"==L&&"denied"===
M?!0:"not_set"==L&&"not_set"===M?!0:!1;y&&g[t].data.push('Notifications = "'+L+'": '+p.passFail(B)+(' <smct-code>"'+M+'"</smct-code>')+(0===K?" (Must be using HTTPS) ":""))}else B=!1,y&&g[t].data.push("Notifications = : "+p.passFail(!1)+(' <smct-code> Browsers window.Notification = "'+n.Notification+'"</smct-code>')+(0===K?" (Must be using HTTPS) ":""));L=!0;c[t].pageViews!==z&&1<c[t].pageViews&&(P<c[t].pageViews&&(L=!1),y&&g[t].data.push("Page Views: "+p.passFail(L)+" <smct-code>"+P+" &gt;= <strong>"+
c[t].pageViews+"</strong></smct-code>"));M=!1;var x=!0,N=!0;u=c[t].urls.blacklist;var H=c[t].urls.whitelist;0===u.length&&0===H.length?M=!0:(x=e.urlChecker(u,l),N=e.urlChecker(H,l),x=!x,N=0<c[t].urls.whitelist.length&&!1===N?!1:!0,x&&N&&(M=!0),y&&g[t].data.push(p.urlBlWl(u,H,x,N,M)));u=!0;H=c[t].refs.blacklist;0<H.length&&b.config.refs[f]!==z&&-1!==H.indexOf(f)&&(u=!1);y&&0<H.length&&(x="undefined"===typeof b.config.refs[f]?"undefined":b.config.refs[f].u,g[t].data.push("REF Blacklist: "+p.passFail(u)+
" <smct-code>"+(0==f?" REF is 0! ":"("+x+") Will pass if "+ +f+" is not in "+H.join(", ")+"?")+"</smct-code>"));H=!0;N=c[t].refs.whitelist;0<N.length&&-1===N.indexOf(f)&&(H=!1);y&&0<N.length&&(x="undefined"===typeof b.config.refs[f]?"undefined":b.config.refs[f].u,g[t].data.push("REF Whitelist: "+p.passFail(H)+" <smct-code>"+(0==f?" REF is 0! ":"("+x+") Will pass if "+f+" is in "+N.join(", ")+"?")+"</smct-code>"));x=!0;N=c[t].locs.blacklist;0<N.length&&-1!==N.indexOf(b.loc.cc)&&(x=!1);y&&0<N.length&&
g[t].data.push("Location Blacklist: "+p.passFail(x)+" <smct-code>Will pass if "+b.loc.cc+" <strong>is not</strong> in "+N.join(", ")+"</smct-code>");N=!0;C=c[t].locs.whitelist;0<C.length&&-1===C.indexOf(b.loc.cc)&&(N=!1);y&&0<C.length&&g[t].data.push("Location Whitelist: "+p.passFail(N)+" <smct-code>Will pass if "+b.loc.cc+" <strong>is</strong> in "+C.join(", ")+"</smct-code>");var R=c[t].dynamicElementRules;C=!0;for(var V in R)if(R.hasOwnProperty(V)){var T=b.config.dynamicElements[V];T!==z?1==T.urlContains||
1==T.htmlContains?(T.currentValue||(C=!1),y&&g[t].data.push(V+" "+p.passFail(T.currentValue))):(T=D(R[V],T.currentValue,T.type),y&&g[t].data.push(V+" "+p.passFail(T.result)+": <smct-code>"+T.expression+"</smct-code>"),!1===T.result&&(C=!1)):1==R[V].on&&G('Invalid Key: "'+V+'" check the config settings')}y&&g[t].data.push(p.rulesInfo(c[t].overlays,b.config.debugger_info.overlays_info));y&&(g[t].pass=0);!1===d&&S&&E&&I&&q&&B&&L&&M&&u&&H&&x&&N&&C&&!1===a&&"undefined"!==typeof c[t].overlays[b.device.device]&&
0!==c[t].overlays[b.device.device].id&&(h=c[t].overlays[b.device.device].id,d=!0,y&&(g[t].pass=1));0<h&&h!==v.overlayId&&(a=!0)}}var U=function(){e.pixelTracker(6,24,h);$smcO5.funcs.overlayInit();!0===v.ajaxDOMReplaceCheck&&(G("ajaxDOMReplaceCheck enabled"),setInterval(function(){0<v.overlayId&&null===w.getElementById("smc-v5-overlay-"+v.overlayId)&&(A("TAG LOAD OVERLAY: document.getElementById('smc-v5-overlay-"+v.overlayId+") = ",w.getElementById("smc-v5-overlay-"+v.overlayId),", $outputs.overlayId: "+
v.overlayId,", newOverlayId: "+h),$smcO5.funcs.overlayInit())},100))};e.recon=function(a){W(a)};var W=function(a){v.overlayId=a;!1===k.getJqueryLoadStatus()&&!1===k.getOverlayLoadStatus()?k.loadJquery(b.config.jQueryForceLoad,function(){k.loadOverlay(b,function(){p.updateByID("ov4","LOADED (JQ & Script)");$smcO5.funcs.configureOverlay(a,function(){U()})})}):!1===k.getOverlayLoadStatus()?k.loadOverlay(b,function(){p.updateByID("ov4","LOADED (Just Script)");$smcO5.funcs.configureOverlay(a,function(){U()})}):
!0===k.getOverlayLoadStatus()?(p.updateByID("ov4","LOADED (Just Config)"),$smcO5.funcs.configureOverlay(a,function(){U()})):G("OVERLAY NOT LOADED")};!0===a?W(h):0===h&&"undefined"!==typeof $smcO5&&($smcO5.funcs.overlayRemove(),v.overlayId=0);0===h&&e.pixelTracker(6,9,h);F=!1;y&&p.tagRulesets(h,g,"webOverlayRules")},P=0,O=parseInt(b.config.scannerTime,10);O=isNaN(O)?100:O;var Q=JSON.stringify(Y.getCurrent()),J=r.read("smc_not");v.NotificationPerms=J;var q=function(){if(v.leftPage||v.leftTab)p.updateByID("scans",
"Paused");else{if(y)var a="undefined"!==typeof n.performance&&"function"===typeof n.performance.now?performance.now():0;var d=b.config.dynamicElements;for(u in d)if(d.hasOwnProperty(u)){if(d[u].readCustomVarOrFunc&&""!==d[u].readCustomVarOrFunc.trim())try{var c=$smcT5.CustomScripts[d[u].readCustomVarOrFunc];var h="function"===typeof c?c():c;h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=h,m=!0,p.updateByID("dynElm-"+u,""===h?"null":h))}catch(L){G("readCustomVarOrFunc ERROR:",L)}else if(!e.empty(d[u].selector)||
!e.empty(d[u].readCustomVarOrFunc)||!e.empty(d[u].customOverRide)){a:{h=u;var g=d[u],k=null,t=0,q=g.searchDLObject,w=g.searchDLKey,O=g.selector,D=g.cookieBackup,E=g.attr,x=g.type,R=g.funcs,I=g.useLast;g.readCustomVarOrFunc&&""!==g.readCustomVarOrFunc.trim()&&(k="function"===typeof g.readCustomVarOrFunc?g.readCustomVarOrFunc():g.readCustomVarOrFunc,k=null===k?null:k);e.empty(g.customOverRide)||(k=e.tryer(g.customOverRide,""),k=e.empty(k)?null:k);e.empty(q)||e.empty(w)||""!==k||(k=e.searchDataLayer(q,
w),k=!1===k?null:k);if(!e.empty(O)&&null===k&&(g=e.getElms(O),g!==z))if(I=g[1==I&&0<g.length?g.length-1:0],"exists"==x)k=0===g.length?!1:!0;else if("length"==x)k=g.length;else if(I===z){if(1!=D||null===r.read("smct_dyn_"+h)||"text"!=x&&"html"!=x&&"val"!=x&&"value"!=x&&"attr"!=x){h=null;break a}k=r.read("smct_dyn_"+h)}else"text"==x?(k=I.innerText||I.textContent,t=1):"html"==x?(k=I.innerHTML,t=1):"value"==x||"val"==x?(k=I.value,t=1):"attr"==x?(k=I.getAttribute(E),t=1):G("TYPE ("+x+") NOT SETUP!");t&&
(k=k.toString());h=k=e.functionizer(k,R)}h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=h,m=!0,1==d[u].cookieBackup&&null!==h&&(k=d[u].type,"html"!==k&&"text"!==k&&"attr"!==k&&"val"!==k||r.create("smct_dyn_"+u,h,0)),p.updateByID("dynElm-"+u,h+" ("+typeof h+")"))}d[u].cookieSearch&&(h=r.read(d[u].cookieSearch),h=null===h?"":h,h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=h,m=!0,p.updateByID("dynElm-"+u,""===h?"null":h)));e.empty(d[u].searchDLObject)||e.empty(d[u].searchDLKey)||
(h=e.searchDataLayer(d[u].searchDLObject,d[u].searchDLKey),h=!1===h?"":h,h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=h,m=!0,p.updateByID("dynElm-"+u,h)));1==d[u].htmlContains&&0<d[u].strings.length&&(h=e.htmlTextSearch(u,d[u].strings),h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=h,m=!0,p.updateByID("dynElm-"+u,p.passFail(h,"TRUE","FAIL"))));1==d[u].urlContains&&0<d[u].strings.length&&(h=e.urlTextSearch(u,d[u].strings),h!==d[u].currentValue&&(b.config.dynamicElements[u].currentValue=
h,m=!0,p.updateByID("dynElm-"+u,p.passFail(h,"TRUE","FAIL"))));K[u]=h;1==d[u]["export"]&&(v.dynamic[u]=h)}d=e.getURL();l!==d&&(l=d,F=m=!0,e.incrementPageViews(),p.updateByID("url","URL Changed",1));if(!0===F){var u=b.config.refs;for(var B in u)if(u.hasOwnProperty(B)){c=u[B].d;h=u[B].u;h=e.setCase(h);a:{k=void 0;D=d;t=h;if(1!=H.refExactMatch){if(-1!==D.indexOf("?"+t)||-1!==D.indexOf("&"+t)){k=!0;break a}}else if(-1<D.indexOf("?"))for(k in-1<D.indexOf("#")&&(D=D.split("#"),D=D[0]),D=D.split("?"),D=
D[1].split("&"),D)if(D.hasOwnProperty(k)&&D[k]===t){k=!0;break a}k=!1}k&&(A("REF Matched: ",h),f=parseInt(B,10),r.ref.set(f,c),y&&(p.updateByID("ref",f),p.updateByID("refMatch","<smct-code>"+b.config.refs[f].u+"</smct-code>")))}}B=JSON.stringify(Y.scanner());B!==Q&&(Q=B,fa());m&&(S(),fa(),ja.init(b.plugins));"undefined"!==typeof Notification&&(B=Notification.permission,J!==B&&(J=B,v.NotificationPerms=B,r.create("smc_not",B,5256E3),"granted"===B?e.pixelTracker(8,35,0):"denied"===B&&e.pixelTracker(8,
36,0),A("Notification Settings Changed from "+J+" to: "+B)));y&&(a=((("undefined"!==typeof n.performance&&"function"===typeof n.performance.now?performance.now():1)-a)/1E3).toFixed(4),p.updateByID("perf",a+" secs"));P++;p.updateByID("scans",P)}p.timeOnPage()};ma();if(1==b.config.scannerPerformance){w.addEventListener("mouseup",function(a){q()});w.addEventListener("keypress",function(a){q()});w.addEventListener("focus",function(a){q()});w.addEventListener("visibilitychange",function(a){q()});var E=
e.DateNow()+2E3;w.addEventListener("mousemove",function(a){e.DateNow()>E&&(q(),E=e.DateNow()+2E3)});var x=e.DateNow()+2E3;n.addEventListener("mousewheel",function(a){e.DateNow()>x&&(q(),x=e.DateNow()+2E3)});var U=e.DateNow()+2E3;n.addEventListener("touchstart",function(a){e.DateNow()>U&&(q(),U=e.DateNow()+2E3)});q()}else setInterval(function(){q()},O)},oa=function(){var b=!1,e=!1,l=!1,m=!1,r=!1,q=function(b,e){if(!b||""===b&&y)return G('anyScriptLoader was passed an invalid "scriptName":',b),!1;var f=
w.getElementsByTagName("head")[0],l=w.createElement("script");l.type="text/javascript";l.src=b;l.charset="utf-8";l.onload=function(){e(!0)};f.appendChild(l)};return{loadOverlay:function(b,f){var l=F.getURL("overlays_url");q(l,function(){e=!0;f()})},loadBasketBackup:function(b,e){var f=F.getURL("basket_backup_script");f&&""!==f.trim()?q(f,function(){l=!0;e()}):A("BB Script missing!")},loadSmarterCodes:function(b,e){var f=F.getURL("smarter_codes_script");f&&""!==f.trim()?q(f,function(){m=!0;e()}):A("Smarter Codes Script missing!")},
loadSelectTool:function(b,e){var f=F.getURL("selector_tool_script");f&&""!==f.trim()?q(f,function(){r=!0;e()}):A("Selector Tool Script missing!")},loadJquery:function(e,f){if("undefined"!==typeof jQuery&&0==e)p.updateByID("jquery","INTERNAL"),n.$smcJQ=jQuery,b=!0,f();else{p.updateByID("jquery","EXTERNAL");var l=F.getURL("smc_jq"),k=w.getElementsByTagName("head")[0],m=w.createElement("script");m.type="text/javascript";m.src=l;m.onload=function(){b=!0;$smcJQ.noConflict();f()};k.appendChild(m)}},anyScriptLoader:q,
getJqueryLoadStatus:function(){return b},getOverlayLoadStatus:function(){return e},getBasketBackupLoadStatus:function(){return l},getSmarterCodesLoadStatus:function(){return m},getSelectToolLoadStatus:function(){return r}}},ma=function(){if(!b.config.tagRefreshID||0==b.config.tagRefreshID||$smcT5.outputs.tagRefreshDebugOnly&&!y)return!1;var k=parseInt(b.config.tagRefreshID,10),f=r.read("smc_refresh"),l=r.lastOV.secsSince("open");if(isNaN(k))return G("TAG REFRESH - Exit 3... tagRefreshID cannot be NaN: ",
k),!1;if(f&&parseInt(f,10)===k)return G("TAG REFRESH - Exit 4... user has already refreshed to this ID: ",k),!1;if(f&&parseInt(f,10)>k)return G("TAG REFRESH - Exit 5... currentTagRefresh ("+f+") is greater than tagRefreshID ("+k+")"),!1;if(null!==l&&600>l)return G("TAG REFRESH - Exit 6... User already opened overlay in the last 10 minutes",l),!1;f=["smc_v4_","smct_last_ov"];if($smcT5.outputs.tagRefreshCustomEntry){var m=$smcT5.outputs.tagRefreshCustomEntry;if(Array.isArray(m))for(l=0;l<m.length;l++)f.push(m[l]);
else"string"===typeof m&&f.push(m)}m=0;var n=w.cookie.split(";");for(l=0;l<n.length;l++){var q=n[l].trim();if("smc"===q.substr(0,3))for(var p=0;p<f.length;p++){var v=new RegExp(f[p],"gm"),x="";q.match(v)&&(A("TAG REFRESH - Do we delete? ",q.split("=")[0],!!q.match(v)),x=q.substr(0,q.indexOf("=")),r.del(x),m++)}}r.create("smc_refresh",k,1051200);A("TAG REFRESH - DELETED "+m+" Cookies!");f=$smcT5.outputs.tagRefreshEndpointURL;0<m&&f&&-1<f.indexOf("smct.co")&&e.ajax.post(f,{tid:e.get("id"),uid:e.get("uid"),
trid:k,cd:m},function(b){A("TAG REFRESH - Ajax Post ",b)})},ha=function(k){A(b);if(0===k&&1!=b.config.forceOnDebug){1!=b.config.pxTrackOff&&e.pixelTracker(6,27,0);y&&w.body.insertAdjacentHTML("beforeend",'<smc style="position: fixed;bottom: 10px;left: 10px;background: darkRed;color: #fff !important;padding: 5px 15px;z-index: 999999999;font-weight: bold;border-radius:5px;">Tag Is Off</smc>');if(null===e.queryString("smcdb")&&null===r.read("smcdb"))return!1;G("Tag is OFF - But is on for client debugging!")}else 0===
k&&1==b.config.forceOnDebug&&y&&(v.OnForDebug=1);H=b.config;E=oa();v.urls.overlaysLoad=F.getURL("overlays_data_url");v.urls.overlaysEngage=F.getURL("overlays_engage_url");v.urls.cldbData=F.getURL("client_debug_data");v.overlaysCC=b.overlaysCC;y=1==H.db?!0:!1;e.AddCss(b.css_anims,"smct-v5-anims");W.set(H.ls3rdptyUID);v.OvReqInt=1==H.OvReqInt?!0:!1;if(!1===r.enabled())return A("Cookies are disabled!"),!1;A("Tag V"+b.version+" Loaded",b.name,b.id);var f=function(){(function(b,e){var f=r.read("smc_tag"),
l=btoa(JSON.stringify({id:b,name:e}));f!==l&&r.create("smc_tag",l,525600)})(b.id,b.name);var f=H.timeout;f=isNaN(parseInt(f,10))?100:f;setTimeout(function(){na(E)},f);b.plugins.basketBackup&&ka(b.plugins.basketBackup,E);b.plugins.smarterCodes&&la(b.plugins.smarterCodes,E);if("2a"===b.config.pxt_version||"2b"===b.config.pxt_version){A("entering trackerV2");q.isUse=!0;q.isReady=!1;var l=function(){if(Array.isArray(q.holding))for(var b=0;b<q.holding.length;b++)q.plugin.event(q.holding[b]);q.holding=
[];q.isReady=!0},k=function(b){A("b event",arguments);var e="";switch(b.type){case "overlay":e=F.getURL("px2b_endpoint_url");e+="?";for(var f in b.payload)e+=f+"="+encodeURIComponent(b.payload[f])+"&";e=e.slice(0,-1)}(new Image).src=e},n=function(){q.plugin={start:function(){A("b start",arguments);l()},event:k};q.plugin.start()};if("2a"===b.config.pxt_version&&""!==b.config.pxt_identity_pool_id){A("Tracker v2a loaded");f=w.getElementsByTagName("head")[0];var p=w.createElement("script");p.type="text/javascript";
p.src=F.getURL("px2a_source_url");p.charset="utf-8";f.appendChild(p);p.onload=function(){A("loaded");"function"===typeof q.plugin.start&&q.plugin.start({IdentityPoolId:b.config.pxt_identity_pool_id,callback:l,fallbackEvent:k})};p.onerror=function(){A("failed to load");n()}}else"2b"===b.config.pxt_version&&n()}"function"===typeof $smcCallCustomScripts?($smcCallCustomScripts(),$smcT5.CustomScripts&&"function"===typeof $smcT5.CustomScripts.TagCode&&$smcT5.CustomScripts.TagCode()):F.runCode("tag_custom_code",
y);if(null!==e.queryString("smcdb")||null!==r.read("smcdb")){var v=null!==e.queryString("smcdb",!1)?e.queryString("smcdb",!1):r.read("smcdb");if(null!==v)try{v=JSON.parse(atob(v))}catch(Q){v=null,G("Invalid Base64:",Q)}null!==v&&0<parseInt(v.id,10)&&0<parseInt(v.tid,10)&&(f=F.getURL("client_debug_url"),f!==z&&null!==f&&E.anyScriptLoader(f,function(){$smcCDB.init(v.id,v.tid)}))}e.userSessionTimes.init()},l=function(){var b=setInterval(function(){"undefined"!==typeof n.$smcT5&&(clearInterval(b),f())},
1)};if(k=1==H.blockIframe)try{k=n.self!==n.top}catch(m){k=!0}if(k)return G("Tag not loaded - Iframe Blocked"),!1;H.db?E.anyScriptLoader(F.getURL("smc_debug_url"),function(){y=!0;n.$smcTagDataForDebugger=b;p=n.$smcDebugger();l()}):l()};(function(k){try{b=JSON.parse(atob(k.o)),v.b64=1}catch(l){b=k.o,v.b64=0}b.host=F.getURL("host");var f=k.a!==z?k.a:b.tag_active;if(b.ip!==z&&b.device!==z)ha(f);else try{e.ajax.post(F.getURL("tag_data_url")+"?data=1&t="+b.name,{data:"BOOM"},function(e){e=JSON.parse(e);
if(0==e.r)G(e.error);else if(1==e.r){b.ip=e.output.ip;b.ipb=e.output.ipb;b.loc=e.output.loc;b.device=e.output.device;b.t=e.output.t;b.config.insights=e.output.insights;b.config.pxTrackOff=e.output.pxTrackOff;b.config.pxt_version=e.output.pxt_version;b.config.pxt_identity_pool_id=e.output.pxt_identity_pool_id;if(y=e.output.db)b.config.db=1,b.config.debugger_info=e.output.debugger_info,b.config.forceOnDebug=e.output.forceOnDebug;f=e.output.tag_active;ha(f)}})}catch(l){G("ajax error 1",l)}navigator&&
"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints&&(b.device.device="tablet")})(n.$smctData);return{CookieManager:r,LS:x,tagHelpers:e,outputs:v,TrackerV2:q}}(window,document,void 0);