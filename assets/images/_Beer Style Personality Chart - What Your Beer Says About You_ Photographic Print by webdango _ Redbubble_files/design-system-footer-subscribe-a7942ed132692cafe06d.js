(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{667:function(e,t,r){"use strict";r.r(t);var o,s,n,i,a=r(1),b=r(0),u=r.n(b),l=r(5),c=r(11),d=r(37),p=r(997),f=r.n(p),m=r(998),y=r.n(m);function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,r,o){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),t&&s)for(var a in s)void 0===t[a]&&(t[a]=s[a]);else t||(t=s||{});if(1===n)t.children=o;else if(n>1){for(var b=new Array(n),u=0;u<n;u++)b[u]=arguments[u+3];t.children=b}return{$$typeof:i,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=Object(l.e)({subscribeAlt:(o={id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribeAlt"},w(o,"id","node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribeAlt"),w(o,"defaultMessage","Subscribe"),o),subscribeTitle:(s={id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribeTitle"},w(s,"id","node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribeTitle"),w(s,"defaultMessage","Enter email to sign up."),s),subscribePlaceholder:(n={id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribePlaceholder"},w(n,"id","node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.subscribePlaceholder"),w(n,"defaultMessage","Your email address"),n)}),k=S(c.b,{type:"display5"},void 0,S(l.a,{id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.2807755092",defaultMessage:"10% off, promos, and the best indie art ever!"})),P=S(l.a,{id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.606348592",defaultMessage:"Subscribe"}),A=S(c.b,{type:"display5"},void 0,S(l.a,{id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.Footer.Subscribe.4285694848",defaultMessage:"Thanks for signing up!"})),O=function(e){function t(e){var r,o,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(s=v(t).call(this,e))||"object"!==h(s)&&"function"!==typeof s?_(o):s).state={email:"",subscribed:!1},r.handleEmailChange=r.handleEmailChange.bind(_(r)),r.handleDoSubscribe=r.handleDoSubscribe.bind(_(r)),r.handleSubscribeResponse=r.handleSubscribeResponse.bind(_(r)),r.handleSubscribeError=r.handleSubscribeError.bind(_(r)),r}var r,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a["Component"]),r=t,(o=[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleSubscribeResponse",value:function(e){e.ok&&(this.setState({subscribed:!0}),fetch("/email_subscription/check"),this.props.logEvent({analytics:{category:"Email Subscription",action:"Submitted",label:"footer"},dataLayer:{event:"Email Subscription Submitted"}}))}},{key:"handleSubscribeError",value:function(e){"function"===typeof this.props.onSubscriptionError&&this.props.onSubscriptionError(e)}},{key:"handleDoSubscribe",value:function(e){e.preventDefault();var t=new FormData;return t.append("email_address",this.state.email),fetch("/email_subscription/direct_subscription",{timeout:1e4,method:"post",body:t}).then(this.handleSubscribeResponse).catch(this.handleSubscribeError)}},{key:"render",value:function(){var e=this.props,t=e.intl,r=e.earlyLoadLazyElementsByPixels;return S("div",{className:y.a.footerSubscribe},void 0,S("div",{className:y.a.subscribeMessage},void 0,S(d.b,{className:y.a.susbscribeGraphic,src:f.a,alt:t.formatMessage(F.subscribeAlt),loadOnVisible:{offsetTopBoundaryByPx:r}}),k),S("div",{className:y.a.formContainer},void 0,S("form",{className:y.a.form,onSubmit:this.handleDoSubscribe},void 0,this.state.subscribed?A:S("div",{className:y.a.inputContainer},void 0,S("input",{title:t.formatMessage(F.subscribeTitle),className:y.a.emailInput,onChange:this.handleEmailChange,type:"email",placeholder:t.formatMessage(F.subscribePlaceholder),required:!0}),S("button",{className:y.a.submitBtn,type:"submit"},void 0,P)))))}}])&&g(r.prototype,o),s&&g(r,s),t}();O.propTypes={intl:l.g.isRequired,onSubscriptionError:u.a.func,logEvent:u.a.func,earlyLoadLazyElementsByPixels:u.a.number.isRequired},O.defaultProps={onSubscriptionError:null,logEvent:function(){}},t.default=O},997:function(e,t){e.exports="/boom/client/78d4d2ca3f697289b521a4fc3fb07e22.svg"},998:function(e,t,r){e.exports={footerSubscribe:"styles__footerSubscribe--1eE4a",subscribeMessage:"styles__subscribeMessage--28ywN",susbscribeGraphic:"styles__susbscribeGraphic--28Gry",form:"styles__form--m8JwW",inputContainer:"styles__inputContainer--2CtkD",emailInput:"styles__emailInput--2t41R",submitBtn:"styles__submitBtn--3ZbfG",thanks:"styles__thanks--q48KD"}}}]);
//# sourceMappingURL=design-system-footer-subscribe-f02da4e09841a29b1b42.js.map